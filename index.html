<!DOCTYPE html>

<html lang="da">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Udtalelser v1.0</title>
<link rel="icon" href="favicon.ico">
<link rel="apple-touch-icon" href="icon-192.png">
<!-- Cache-bust for GitHub Pages / aggressive browser caching -->
<link href="app.css?v=2026-01-06_2" rel="stylesheet"/>
</head>
<body>
<header class="topbar no-print">
<div class="brand" id="brandHome" title="G√• til Data & import">
<span class="dot"></span>
<span>Udtalelser v1.0</span>
</div>
<nav aria-label="Navigation" class="tabs">
<button class="tab" data-tab="k" id="tab-k" title="K-elever">üë§ <span>K-elever</span></button>
<button class="tab" data-tab="edit" id="tab-edit" title="Redig√©r">‚úçÔ∏è <span>Redig√©r</span></button>
<button class="tab" data-tab="set" id="tab-set" title="Indstillinger">‚öôÔ∏è <span>Indstillinger</span></button>
        <button class="tab tab-help" id="tab-help-top" title="Hj√¶lp">? <span>Hj√¶lp</span></button>
</nav>
<div class="status">
<span class="statusText" id="statusText"></span>
<button class="btn small no-print" id="btnReload">‚Üª Reload</button></div>
</header>
<main class="app">
<!-- K-elever -->
<section class="view" id="view-k">
<div class="viewHeader">
        <div class="viewTitleRow">
          <button class="h1btn" id="kTitleBtn" type="button" title="Skift visning: K-elever ‚Üî Alle K-grupper"><h1 id="kTitle">K-elever</h1></button>
          <div id="kTitleActions" class="titleCenter no-print">
            <button class="btn small no-print" id="btnPrintAllK" type="button" title="Print alle dine K-elever som √©n samlet udskrift">üñ®Ô∏è Print dine K-elever</button>
          </div>
          <div id="kTitleRight" class="titleRight no-print">
            <div class="muted small" id="kHeaderInfo"></div>
          </div>
        </div>
      </div>
<div class="callout" id="kMessage">
  <div class="kNavHost no-print" id="kNavHost">
    <!-- K-gruppe-navigation (vises kun i ALL) -->
    <div class="editNavRow" id="kAllNavRow" style="display:none;">
      <div class="navSlot left">
        <button class="btn small" id="btnPrevGroup" type="button" title="Forrige K-gruppe">‚óÄÔ∏é</button>
      </div>
      <div class="navSlot center muted small" id="kAllNavLabel"></div>
      <div class="navSlot right" id="kAllNavRight">
        <button class="btn small" id="btnNextGroup" type="button" title="N√¶ste K-gruppe">‚ñ∂Ô∏é</button>
      </div>
    </div>
  </div>
  <div class="kMsgHost" id="kMsgHost"></div>
</div>
<div class="list" id="kList"></div>
</section>
<!-- Redig√©r -->
<section class="view" id="view-edit">
<div class="viewHeader no-print">
<div class="viewTitleRow">
  <div class="titleLeft"><h1>Redig√©r</h1></div>
  <div class="titleCenter no-print" id="editTitleCenter">
    <div class="pill muted" id="autosavePill"></div>
    <button class="btn no-print" id="btnPrint">üñ®Ô∏è Print elev</button>
  </div>
  <div class="titleRight no-print"><div class="muted small" id="editHeaderInfo"></div></div>
</div>
<div class="row gap wrap">
  <div class="pill" id="editStudentPill">Ingen elev valgt</div>
</div>
</div>
<div class="callout no-print" id="editMessage">
  <div class="editNavRow no-print" id="editNavRow">
    <div class="navSlot left">
      <button class="btn small no-print" id="btnPrevStudent" type="button" title="Forrige elev">‚óÄ Forrige</button>
    </div>
    <div class="navSlot center"></div>
    <div class="navSlot right">
      <button class="btn small no-print" id="btnNextStudent" type="button" title="N√¶ste elev">N√¶ste ‚ñ∂</button>
    </div>
  </div>
  <div class="muted" id="editHint"></div>
</div>
<div class="split">
<div class="panel no-print">
<details class="fold" open="" id="secElevudv">
<summary>Udvikling <span class="secRatio" id="ratioElevudv"></span></summary>
<textarea id="txtElevudv" placeholder="Skriv udvikling‚Ä¶" rows="8"></textarea>
</details>
<details class="fold" id="secPraktisk">
<summary>Praktisk afsnit <span class="secRatio" id="ratioPraktisk"></span></summary>
<textarea id="txtPraktisk" placeholder="Skriv praktisk afsnit‚Ä¶" rows="7"></textarea>
</details>
<details class="fold" id="secKgruppe">
<summary>Funktion i kontaktgruppen <span class="secRatio" id="ratioKgruppe"></span></summary>
<textarea id="txtKgruppe" placeholder="Skriv kontaktgruppe-afsnit‚Ä¶" rows="7"></textarea>
</details>
<div class="card no-print">
<div class="cardTitle">Elevens eget input (PDF)</div>
<div class="row gap wrap">
  <input accept="application/pdf,.pdf" id="fileStudentInput" type="file" style="display:none" />
  <button class="btn" id="btnPickStudentPdf" type="button">V√¶lg PDF‚Ä¶</button>
  <button class="btn" id="btnOpenStudentInput" type="button" disabled>√Öbn i nyt vindue</button>
  <button class="btn ghost" id="btnClearStudentInput" type="button" disabled>Fjern</button>
  <div class="muted small" id="studentInputMeta"></div>
</div>
<div class="studentInputPreviewWrap" id="studentInputPreviewWrap" style="display:none;">
  <iframe id="studentInputPreview" title="Elevens eget input (PDF preview)"></iframe>
</div>
</div>
</div>
<div class="panel">
<article class="preview" id="preview"></article>
</div>
</div>
</section>
<!-- Indstillinger -->
<section class="view" id="view-set">
  <div class="viewHeader">
    <h1>Indstillinger</h1>
    <p class="muted">Alt gemmes lokalt i denne browser (localStorage). Ingen server.</p>
  </div>

  <div class="subtabs no-print" id="settingsSubtabs" role="tablist" aria-label="Indstillinger">
    <button class="subtab active" type="button" data-subtab="general" id="settingsTab-general">Generelt</button>
    <button class="subtab" type="button" data-subtab="data" id="settingsTab-data">Import</button>
    <button class="subtab" type="button" data-subtab="export" id="settingsTab-export">Eksport</button>
    <button class="subtab" type="button" data-subtab="texts" id="settingsTab-texts">Tekster / skabeloner</button>
    <button class="subtab" type="button" data-subtab="help" id="settingsTab-help">Hj√¶lp</button>
  </div>

  <!-- GENERELT -->
  <div class="settingsSubtab active" data-subtab="general" id="settingsSubtab-general">
    <div class="grid2">
      <div class="card">
        <div class="cardTitle">Identitet</div>
        <div class="field">
          <label>K-l√¶rer (initialer eller navn)</label>
          <div class="teacherPicker" id="teacherPicker">
            <input id="meInput" placeholder="fx MM, RD, MTP eller fuldt navn" type="text" autocomplete="off"/>
            <button class="clearBtn" id="meInputClear" title="Ryd" aria-label="Ryd">√ó</button>
            <button class="tpBtn" id="teacherPickerBtn" type="button" aria-label="Vis liste">
              ‚ñæ
            </button>
            <div class="tpMenu" id="teacherPickerMenu" role="listbox" aria-label="V√¶lg K-l√¶rer" hidden></div>
          </div>
          <div class="muted small" id="teacherInfoAfterImport" style="display:none; margin-top:6px;">
            V√¶lg K-l√¶rer for at se K-elever
          </div>
          <div class="muted small">Fortolkes via alias-map og bruges til filter af K-elever.</div>
        </div>
      </div>

      <div class="card">
        <div class="cardTitle">Periode</div>
        <div class="grid2 tight">
          <div class="field">
            <label>Skole√•r (slut-√•r)</label>
            <input id="schoolYearEnd" type="number" min="2020" max="2100"/>
          </div>
          <div class="field">
            <label>Kontaktgruppe antal (auto)</label>
            <input id="contactCount" type="text" readonly/>
          </div>
          <div class="field">
            <label>Periode fra (auto)</label>
            <input id="periodFrom" readonly type="text"/>
          </div>
          <div class="field">
            <label>Dato m√•ned/√•r (auto)</label>
            <input id="dateMonthYear" readonly type="text"/>
          </div>
        </div>
      </div>

      <div class="card dangerZone">
        <div class="cardTitle">Sikkerhed</div>
        <div style="margin-top:.35rem">
          <button class="btn danger" id="btnReset" type="button">üî¥ Nulstil app (slet alle lokale data)</button>
          <div class="muted small" style="margin:.5rem 0 0 0; line-height:1.45">
            Sletter alle elever, udtalelser, indstillinger og tekster i denne browser.<br/>
            Handlingen kan ikke fortrydes.
          </div>
        </div>
      </div>

      <div class="card" id="importStatsCard">
        <div class="cardTitle">Vurderinger importeret (fagl√¶rer-CSV)</div>
        <div class="muted small" id="importStatsHint" style="margin-top:.35rem; line-height:1.45">
          Viser om der er importeret vurderinger til eleverne i den aktive K-gruppe.
        </div>

        <div class="importStatsGrid" style="margin-top:.8rem">
          <div class="importStatRow">
            <div class="importStatLabel"><span class="importDot" id="dotSang" aria-hidden="true"></span>Sang</div>
            <div class="importStatValue"><span id="importStatsSang">‚Äì</span><span class="importStatMiss muted" id="importMissSang"></span></div>
            <button class="btn tiny" id="btnToggleMissingSang" type="button">Vis manglende</button>
          </div>
          <div class="importStatMissing muted small" id="importMissingSang" style="display:none"></div>

          <div class="importStatRow">
            <div class="importStatLabel"><span class="importDot" id="dotGym" aria-hidden="true"></span>Gymnastik</div>
            <div class="importStatValue"><span id="importStatsGym">‚Äì</span><span class="importStatMiss muted" id="importMissGym"></span></div>
            <button class="btn tiny" id="btnToggleMissingGym" type="button">Vis manglende</button>
          </div>
          <div class="importStatMissing muted small" id="importMissingGym" style="display:none"></div>

          <div class="importStatRow">
            <div class="importStatLabel"><span class="importDot" id="dotER" aria-hidden="true"></span>Elevr√•d</div>
            <div class="importStatValue"><span id="importStatsElevraad">‚Äì</span><span class="importStatMiss muted" id="importMissER"></span></div>
            <div class="importStatRight" id="importERMarked">Ingen markeret</div>
          </div>
          <div class="importStatMissing muted small" id="importMissingElevraad" style="display:none"></div>
        </div>
      </div>

    </div>
  </div>

  <!-- DATA -->
  <div class="settingsSubtab" data-subtab="data" id="settingsSubtab-data">
    
<div class="card">
      <div class="cardTitle">Import√©r data</div>

      <div class="muted small" style="margin:.2rem 0 .8rem 0; line-height:1.45">
        Du kan enten indl√¶se en backup (JSON) eller indl√¶se elevlisten (CSV). Hvis du importerer backup, flettes indholdet ind, s√• du ikke mister dit eget arbejde.
      </div>

      <div class="row gap wrap" style="margin-bottom:.6rem">
        <label class="btn" for="backupFileInput" title="V√¶lg backupfil">‚¨ÜÔ∏è Import√©r backup</label>
        <input type="file" id="backupFileInput" accept="application/json" style="display:none" />

        <label class="btn" for="studentsFile" title="V√¶lg elevliste">‚¨ÜÔ∏è Indl√¶s elevliste (CSV)</label>
        <input accept=".csv,.txt" id="studentsFile" type="file" style="display:none"/>
      </div>

      <div class="row between" style="gap:1rem; align-items:flex-start; flex-wrap:wrap;">
        <div style="min-width:260px; flex: 1 1 360px;">
          <div class="muted small" id="studentsStatus" style="margin-top:.15rem"></div>
        </div>
        <div id="studentsWarn" class="warnBox" style="display:none; flex: 0 1 360px;"></div>
      </div>

      <details class="fold no-print" style="margin-top:.8rem">
        <summary>Accepterede kolonner (eksempler)</summary>
        <div class="muted small">
          <div><b>Demo / standard-elevliste:</b> Fornavn, Efternavn, Unilogin, K√∏n, Klasse, Kontaktl√¶rer1, Kontaktl√¶rer2, Initialer for k-l√¶rer1, Initialer for k-l√¶rer2</div>

          <div style="margin-top:.35rem"><b>Kontaktl√¶rere og initialer:</b></div>
          <ul style="margin:.25rem 0 0 1.1rem">
            <li>I <i>Kontaktl√¶rer1</i> og <i>Kontaktl√¶rer2</i> kan du skrive kontaktl√¶rerens navn (fx ‚ÄúGert Hansen‚Äù).</li>
            <li>Hvis der ikke er angivet initialer, danner appen dem automatisk (fx Gert Hansen ‚Üí GH).</li>
            <li>Hvis du vil bruge andre initialer, udfyld <i>Initialer for k-l√¶rer1</i> / <i>Initialer for k-l√¶rer2</i> (fx GTH). Disse overstyrer de automatiske initialer.</li>
            <li>Kontaktl√¶rer 2 og/eller initialer kan v√¶re tomme. Tomme felter ignoreres.</li>
          </ul>

          <div style="margin-top:.35rem"><em>Appen matcher kolonner robust (store/sm√• bogstaver er ligegyldige, mellemrum trimmes, og kendte varianter accepteres).</em></div>
          <div><b>Uni-C:</b> Klasse, Fornavn, Efternavn, Uni-C brugernavn, Relationer-Kontaktl√¶rer-Navn, Relationer-Anden kontaktl√¶rer-Navn</div>
          <div>Appen mapper kolonner robust (case-insensitivt, trim, accepter Unilogin/Uni-C brugernavn).</div>
        </div>
      </details>

      <div class="divider"></div>

      <div class="cardSubTitle">Import af fagl√¶rer-CSV‚Äôer (for kontaktl√¶rere)</div>
      <div class="grid3">
        <div class="field">
          <label>sang_vurderinger.csv</label>
          <input accept=".csv,.txt" id="importSang" type="file"/>
        </div>
        <div class="field">
          <label>gym_rolle_vurderinger.csv</label>
          <input accept=".csv,.txt" id="importGym" type="file"/>
        </div>
        <div class="field">
          <label>elevraad_vurderinger.csv</label>
          <input accept=".csv,.txt" id="importElevraad" type="file"/>
        </div>
      </div>

      <div class="divider"></div>
    </div>
  </div>

  <!-- DATA & EKSPORT (FAGL√ÜRERE) -->
  <div class="settingsSubtab" data-subtab="export" id="settingsSubtab-export">
    <div class="card no-print">
      <div class="row between exportTopRow" style="align-items:center; gap:1rem; margin-bottom:0">
        <div class="cardTitle" style="margin:0">Eksport</div>
        <div class="exportActions" aria-label="Eksport handlinger">
          <button class="btn exportActionBtn" id="btnPrintAllStudents" type="button" title="Printer alle elever alfabetisk efter fornavn ‚Äì uden hensyn til K-grupper.">üñ®Ô∏è Print alle elever</button>
          <button class="btn exportActionBtn" id="btnPrintAllGroups" type="button" title="Printer alle K-grupper p√• √©n gang. K-grupper sorteres alfabetisk efter K-l√¶rer, og elever sorteres alfabetisk inden for hver gruppe.">üñ®Ô∏è Print alle K-grupper</button>
          <button class="btn exportActionBtn" id="btnBackupDownload" type="button" title="Download backup af alle lokale data">‚¨áÔ∏è Backup (download)</button>
        </div>
      </div>

      <details class="fold exportHelpFold">
  <summary>Del vurderinger med kontaktl√¶rerne (CSV)</summary>
  <div class="muted small" style="margin-top:.55rem; line-height:1.45">
    <p><b>N√•r du deler vurderinger</b><br/>Her kan fagl√¶rere sende deres vurderinger videre, s√• kontaktl√¶rerne kan skrive udtalelserne f√¶rdige.</p>
    <ul style="margin:.35rem 0 .6rem 1.1rem">
      <li><b>Sang</b> deler sangvurderinger (<code>sang_vurderinger.csv</code>)</li>
      <li><b>Gymnastik</b> deler gymnastikvurderinger og roller samlet (<code>gym_rolle_vurderinger.csv</code>)</li>
      <li><b>Elevr√•d</b> deler markering af elevr√•dsrepr√¶sentant (<code>elevraad_vurderinger.csv</code>)</li>
    </ul>
    <p><b>Backup (noget andet)</b><br/>Backup bruges kun, hvis du vil gemme eller flytte <i>hele</i> dit arbejde ‚Äì fx mellem l√¶rere eller computere.</p>
    <p style="margin:.35rem 0 0 0"><b>CSV = del vurderinger</b> ¬∑ <b>Backup = gem det hele</b></p>
  </div>
</details>

      <!-- Filtre/s√∏gning h√∏rer visuelt sammen med tabellen. -->
      <div class="marksToolbar" aria-label="Filtre til eksporttabellen">
        <div class="tabs small centered" id="marksTypeTabs">
          <!-- data-type values are internal codes used by app.js -->
          <button type="button" class="tab" data-type="sang" title="Vurder elevernes deltagelse i sang og del det med kontaktl√¶rerne.">Sang</button>
          <button type="button" class="tab" data-type="gym" title="Vurder elevernes deltagelse i f√¶llesgymnastik og del det med kontaktl√¶rerne.">Gymnastik</button>
          <button type="button" class="tab" data-type="roller" title="Marker elever med faste roller (fx faneb√¶rer) og del det med kontaktl√¶rerne.">Roller</button>
          <button type="button" class="tab" data-type="elevraad" title="Marker elevr√•dsrepr√¶sentant og del det med kontaktl√¶rerne.">Elevr√•d</button>
          <button type="button" class="tab exportTab" id="btnExportMarks" title="Eksporterer vurderinger fra den aktive fane som √©n CSV-fil">‚Üì Eksport√©r CSV</button>
        </div>
        <select id="marksType" style="display:none">
          <option value="sang">Sang</option>
          <option value="gym">Gymnastik</option>
          <option value="roller">Roller</option>
          <option value="elevraad">Elevr√•d</option>
        </select>
      </div>

      <!-- hidden dock: √¶ldre elev-s√∏gepicker (beholdes skjult af hensyn til bagudkompatibilitet) -->
      <div class="marksSearchDock" id="marksSearchDock" aria-hidden="true">
        <div class="teacherPicker" id="marksSearchPicker">
          <input id="marksSearch" type="text" placeholder="S√∏g navn‚Ä¶" autocomplete="off"/>
          <button class="clearBtn" id="marksSearchClear" title="Ryd s√∏gning" aria-label="Ryd s√∏gning">√ó</button>
          <button class="tpBtn" id="marksSearchBtn" type="button" aria-label="Vis elevliste">‚ñæ</button>
          <div class="tpMenu" id="marksSearchMenu" role="listbox" aria-label="V√¶lg elev" hidden></div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="muted small" id="marksLegend" style="margin:.35rem 0 .6rem 0"></div>
      <div id="marksTableWrap"></div>
    </div>
  </div>

  <div class="settingsSubtab" data-subtab="texts" id="settingsSubtab-texts">
    <div class="grid2">
      <div class="card">
        <div class="cardTitle">Skole og skabelon</div>

        <div class="field">
          <label>Forstandernavn</label>
          <div class="row gap">
            <input id="forstanderName" type="text"/>
            <button class="btn ghost" id="btnToggleForstander" title="L√•s op / l√•s" type="button">‚úèÔ∏è</button>
          </div>
        </div>

        <details class="fold" id="schoolTextFold">
          <summary>Skolens standardtekst</summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn ghost" id="btnToggleSchoolText" type="button">‚úèÔ∏è Redig√©r</button>
            <button class="btn ghost" id="btnRestoreSchoolText" type="button">‚Ü©Ô∏è Gendan standard</button>
          </div>
          <textarea id="schoolText" rows="10"></textarea>
        </details>

        <details class="fold" id="templateFold">
          <summary>Udtalelses-skabelon (med placeholders)</summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn ghost" id="btnToggleTemplate" type="button">‚úèÔ∏è Redig√©r</button>
            <button class="btn ghost" id="btnRestoreTemplate" type="button">‚Ü©Ô∏è Gendan standard</button>
          </div>
          <textarea id="templateText" rows="14"></textarea>
          <div class="muted small">Brug placeholders som <code>{{ELEV_FORNAVN}}</code>, <code>{{SANG_AFSNIT}}</code>, <code>{{PRAKTISK_AFSNIT}}</code> osv.</div>
        </details>

        <details class="fold" id="templatesShareFold">
          <summary>Del / import√©r skabeloner (leder)</summary>
          <div class="muted small" style="margin:.35rem 0 .6rem 0">
            G√¶lder <b>Forstandernavn</b>, <b>Skolens standardtekst</b> og <b>Udtalelses-skabelon</b>. Download filen og del den med kolleger.
          </div>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn" id="btnExportTemplates" type="button">‚¨áÔ∏è Download skabeloner</button>
            <button class="btn ghost" id="btnImportTemplates" type="button">‚¨ÜÔ∏è Import√©r skabeloner</button>
            <input id="fileImportTemplates" type="file" accept=".json" style="display:none"/>
          </div>
        </details>
      </div>

      <div class="card no-print">
        <div class="cardTitle">Fagl√¶rer-tekster (snippets)</div>
        <div class="muted small" style="margin-bottom:.5rem">
          Redig√©r tekster direkte her. N√•r du klikker ‚ÄúDownload √¶ndringer‚Äù, f√•r du en fil du kan sende til M√•ns.
        </div>

        <details>
          <summary><b>Sang</b> (3 niveauer)</summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn" id="btnDownloadSang" type="button">‚¨áÔ∏è Download √¶ndringer</button>
            <button class="btn ghost" id="btnImportSang" type="button">‚¨ÜÔ∏è Import√©r √¶ndringer</button>
            <button class="btn ghost" id="btnRestoreSang" type="button">‚Ü©Ô∏è Gendan standard</button>
            <input id="fileImportSang" type="file" accept=".json" style="display:none"/>
          </div>

          <div class="field">
            <label>Niveau 1 ‚Äì titel</label>
            <input id="sangLabel_S1" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 1 ‚Äì tekst</label>
            <textarea id="sangText_S1" rows="4"></textarea>
          </div>

          <div class="field">
            <label>Niveau 2 ‚Äì titel</label>
            <input id="sangLabel_S2" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 2 ‚Äì tekst</label>
            <textarea id="sangText_S2" rows="4"></textarea>
          </div>

          <div class="field">
            <label>Niveau 3 ‚Äì titel</label>
            <input id="sangLabel_S3" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 3 ‚Äì tekst</label>
            <textarea id="sangText_S3" rows="4"></textarea>
          </div>
        </details>

        <details>
          <summary><b>Gymnastik</b> (3 niveauer)</summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn" id="btnDownloadGym" type="button">‚¨áÔ∏è Download √¶ndringer</button>
            <button class="btn ghost" id="btnImportGym" type="button">‚¨ÜÔ∏è Import√©r √¶ndringer</button>
            <button class="btn ghost" id="btnRestoreGym" type="button">‚Ü©Ô∏è Gendan standard</button>
            <input id="fileImportGym" type="file" accept=".json" style="display:none"/>
          </div>

          <div class="field">
            <label>Niveau 1 ‚Äì titel</label>
            <input id="gymLabel_G1" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 1 ‚Äì tekst</label>
            <textarea id="gymText_G1" rows="4"></textarea>
          </div>

          <div class="field">
            <label>Niveau 2 ‚Äì titel</label>
            <input id="gymLabel_G2" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 2 ‚Äì tekst</label>
            <textarea id="gymText_G2" rows="4"></textarea>
          </div>

          <div class="field">
            <label>Niveau 3 ‚Äì titel</label>
            <input id="gymLabel_G3" type="text"/>
          </div>
          <div class="field">
            <label>Niveau 3 ‚Äì tekst</label>
            <textarea id="gymText_G3" rows="4"></textarea>
          </div>

        </details>

        
        <details>
          <summary><b>Roller</b> (Gymnastik ‚Äì s√¶rlige roller)</summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn" id="btnDownloadRoller" type="button">‚¨áÔ∏è Download √¶ndringer</button>
            <button class="btn ghost" id="btnImportRoller" type="button">‚¨ÜÔ∏è Import√©r √¶ndringer</button>
            <button class="btn ghost" id="btnRestoreRoller" type="button">‚Ü©Ô∏è Gendan standard</button>
            <input id="fileImportRoller" type="file" accept=".json" style="display:none"/>
          </div>
          <div class="muted small" style="margin-bottom:.5rem">Rollenavne er faste. Du kan kun redigere teksten.</div>
          <div id="rolesList"></div>
        </details>

        <details>
          <summary><b>Elevr√•d</b></summary>
          <div class="row gap wrap" style="margin:.5rem 0">
            <button class="btn" id="btnDownloadElevraad" type="button">‚¨áÔ∏è Download √¶ndringer</button>
            <button class="btn ghost" id="btnImportElevraad" type="button">‚¨ÜÔ∏è Import√©r √¶ndringer</button>
            <button class="btn ghost" id="btnRestoreElevraad" type="button">‚Ü©Ô∏è Gendan standard</button>
            <input id="fileImportElevraad" type="file" accept=".json" style="display:none"/>
          </div>

          <div class="field">
            <label>Tekst</label>
            <textarea id="elevraadText" rows="6"></textarea>
          </div>
        </details>
      </div>
    </div>
  </div>

  <!-- HJ√ÜLP -->
  <div class="settingsSubtab" data-subtab="help" id="settingsSubtab-help">
    <div class="card">
      <h2>Hj√¶lp</h2>
      <p class="muted">Kort og praktisk ‚Äì uden server, uden login. Alt gemmes lokalt i din browser.</p>

      <details class="fold" open>
        <summary>Quick start (hvem g√∏r hvad?)</summary>
        <ol class="helpList">
          <li>
            Indl√¶s elevlisten (<code>students.csv</code>).
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="set:data">Import</a></span>
          </li>
          <li>
            Skriv dine initialer i <em>Generelt</em>.
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="set:general">Generelt</a></span>
          </li>
          <li>
            Redig√©r dine elever i <em>K-elever</em> og brug <em>Redig√©r</em> til fuld visning og print.
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="k">K-elever</a> ¬∑ <a href="#" class="helpLink" data-goto="edit">Redig√©r</a></span>
          </li>
          <li>
            Fagl√¶rere: s√¶t krydser og eksport√©r CSV. Kontaktl√¶rere: import√©r CSV‚Äôerne.
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="set:export">Eksport</a> ¬∑ <a href="#" class="helpLink" data-goto="set:data">Import</a></span>
          </li>
          <li>
            Backup kan deles mellem l√¶rere ‚Äì import er sikker og overskriver ikke dine udfyldte felter.
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="set:data">Import√©r / gendan backup</a></span>
          </li>
          <li>
            Tekster og skabeloner kan opdateres centralt.
            <span class="helpRefs">‚Äì <a href="#" class="helpLink" data-goto="set:texts">Tekster / skabeloner</a></span>
          </li>
        </ol>
      </details>

      
<details class="fold">
  <summary>Demo</summary>
  <div class="muted small" style="margin-top:.6rem; line-height:1.45">
    <p><b>Indl√¶s demo-elevliste</b></p>
    <p>Denne knap rydder <b>alle lokale data</b> (elever, udtalelser, indstillinger, tekster) og indl√¶ser <code>demo_students.csv</code>.</p>
    <p><b>Advarsel:</b> Handlingen kan ikke fortrydes. Tag evt. en <i>Backup (download)</i> f√∏rst.</p>
    <button class="btn warn" id="btnLoadDemo" type="button">Indl√¶s demo (overskriv alt)</button>
  </div>
</details>

<details class="fold">
        <summary>FAQ</summary>
        <div class="muted small" style="margin-top:.6rem; line-height:1.45">
          <p><b>Er der en server?</b><br/>Nej. Alt gemmes lokalt i din browser. Der sendes ingen data nogen steder.</p>
          <p><b>Er det GDPR-sikkert?</b><br/>Ja. Ingen elevdata forlader computeren.</p>
          <p><b>Kan flere l√¶rere arbejde p√• de samme elever?</b><br/>Ja. Hvis du importerer en kollegas backup, kan appen vise, hvem der sidst har redigeret en elev.</p>
          <p><b>Hvad hvis browseren crasher?</b><br/>Data gemmes l√∏bende i browseren. Det anbefales at tage backup j√¶vnligt.</p>
          <p><b>Skal man printe direkte fra appen?</b><br/>Nej. Klik Print, luk printdialogen, og kopi√©r teksten over i skolens Word- eller Docs-skabelon. Print og underskriv d√©r.</p>
</div>
      </details>

      
      <details class="fold">
        <summary>Deling (CSV og Backup)</summary>
        <div class="muted small" style="margin-top:.6rem; line-height:1.45">
          <pre class="asciiFlow">Fagl√¶rer
   |
   |  (Sang / Gymnastik / Elevr√•d)
   v
[ Udfyld vurderinger ]
   |
   v
[ Eksport√©r CSV ]
   |
   v
Kontaktl√¶rer
   |
   v
[ Import√©r CSV ]
   |
   v
[ Skriv elevudtalelser ]</pre>
          <div style="margin-top:.4rem"><b>CSV = del vurderinger</b> ¬∑ <b>Backup = gem det hele</b></div>
        </div>
      </details>

      
      <div class="helpTip">
        <p class="muted"><strong>Tip:</strong> Brug <a href="#" class="helpLink" data-goto="set:export"><em>Backup (download)</em></a> f√∏r du rydder lokale data eller skifter computer/browser.</p>
      </div>
    </div>
  </div>
</section>
</main>
<footer class="footer no-print">
  <span class="muted small">Udtalelser v1.0</span>
</footer>

<!-- (K-l√¶rer) ‚Äì custom dropdown bygges i app.js -->

<script src="app.js?v=2026-01-06_2"></script>
<input type="file" id="importTemplatesInput" accept=".json" hidden>
</body>
</html>