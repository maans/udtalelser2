/* Dark-ish, simple, printable */
:root{
  --bg:#0f1115;
  --panel:#171a21;
  --text:#e6e8ee;
  --muted:#a8afbf;
  --border:#2a2f3a;
  --accent:#8bd3ff;
  --danger:#ff7b7b;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius: 14px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* ---------- Scrollbars (match dark UI) ---------- */
:root{
  --scrollbar-track: rgba(255,255,255,.05);
  --scrollbar-thumb: rgba(255,255,255,.16);
  --scrollbar-thumb-hover: rgba(255,255,255,.26);
}
*{
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}
*::-webkit-scrollbar{ width: 10px; height: 10px; }
*::-webkit-scrollbar-track{
  background: var(--scrollbar-track);
  border-radius: 10px;
}
*::-webkit-scrollbar-thumb{
  background: var(--scrollbar-thumb);
  border-radius: 10px;
  border: 2px solid rgba(15,17,21,.55);
}
*::-webkit-scrollbar-thumb:hover{
  background: var(--scrollbar-thumb-hover);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--sans);
  color:var(--text);
  background: radial-gradient(1200px 600px at 15% 10%, #1a2231 0%, var(--bg) 55%) fixed;
}

/* Links: readable on dark background */
a{
  color: inherit;
  text-decoration: underline dashed;
  text-underline-offset: 3px;
  text-decoration-thickness: 1px;
}
a:hover{opacity:.9}

/* Help links: tiny arrow cue instead of bright blue */
.helpLink{
  font-weight: 700;
}
.helpLink::after{
  content:"↗";
  font-size: .78em;
  margin-left: .25em;
  opacity: .65;
}

code{font-family:var(--mono)}
.muted{color:var(--muted)}
.small{font-size:.88rem}
.helpList{margin: .8rem 0 0 1.1rem; padding:0}
.helpList li{margin:.65rem 0; line-height:1.55}
.helpList code{padding:.08rem .35rem; border:1px solid var(--border); border-radius:10px; background: rgba(255,255,255,.04)}

/* Help refs: keep links lightweight and "wiki-like" */
.helpRefs{ font-size: .92em; opacity: .82; }
.helpRefs a{ color: inherit; text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,.35); }
.helpRefs a:hover{ border-bottom-style: solid; }
.wrap{flex-wrap:wrap}
.gap{gap:.6rem}
.row{display:flex; align-items:center}

/* Stable navigation row in Redigér */
.editNavRow{display:flex;align-items:center;gap:.75rem;margin-top:0;}
.editNavRow .navSlot{flex:1;display:flex;align-items:center;}
.editNavRow .navSlot.left{justify-content:flex-start;}
.editNavRow .navSlot.center{justify-content:center;}
.editNavRow .navSlot.right{justify-content:flex-end;}
.editNavRow .navSlot.center{justify-content:center;text-align:center;}
.navActiveName{font-size:1.25rem;font-weight:700;line-height:1.15;}
.navActiveMeta{margin-top:.1rem;}

.pill{
  display:inline-flex; align-items:center;
  padding:.35rem .7rem;
  border:1px solid var(--border);
  border-radius:999px;
  background:rgba(255,255,255,.03);
}
.search{max-width:260px}

.topbar{
  position:sticky; top:0;
  display:flex; align-items:center; gap:1rem;
  padding:.8rem 1rem;
  background:rgba(15,17,21,.8);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--border);
  z-index:10;
}
.brand{display:flex; align-items:center; gap:.6rem; min-width:190px}

/* Tastatur-aktivt elevkort (diskret, konkurrerer ikke med statuskanter)
   Brug outline (ikke box-shadow), så vi ikke bliver overskrevet af
   .card.complete/.card.wip som allerede sætter box-shadow. */
.card.kbActive{
  outline: 2px solid rgba(255,255,255,0.70);
  outline-offset: -2px;
  border-radius: 12px;
}
.cardTopRow .dot{margin:0 6px 0 2px; align-self:center}
.dot{width:10px;height:10px;border-radius:50%;background:var(--accent); box-shadow: 0 0 0 3px rgba(139,211,255,.15)}
.dot.done{background:rgba(60,220,150,1); box-shadow: 0 0 0 3px rgba(60,220,150,.15)}
.dot.wip{background:rgba(255,205,80,1); box-shadow: 0 0 0 3px rgba(255,205,80,.15)}
.card.complete{border-color:rgba(60,220,150,.55); box-shadow: 0 0 0 1px rgba(60,220,150,.25), 0 10px 30px rgba(0,0,0,.35)}
.card.wip{border-color:rgba(255,205,80,.55); box-shadow: 0 0 0 1px rgba(255,205,80,.20), 0 10px 30px rgba(0,0,0,.35)}
.tabs{display:flex; gap:.4rem; flex:1; justify-content:center}
.tab{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.5rem .8rem;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  color:var(--text);
  border-radius:999px;
  cursor:pointer;
}
.tab.active{border-color:rgba(139,211,255,.5); box-shadow: 0 0 0 3px rgba(139,211,255,.10)}
.tab span{font-weight:600}
.status{min-width:260px; text-align:right; display:flex; justify-content:flex-end; align-items:center; gap:10px}
.statusText{color:var(--muted)}

.app{max-width:1200px; margin:0 auto; padding:1rem}
.view{display:none}
.view.active{display:block}
.viewHeader{margin-bottom:1rem}
.viewTitleRow{display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; column-gap:1rem}

/* Center actions in title rows (used by Redigér) */
#editTitleCenter{display:flex; align-items:center; justify-content:center; gap:.75rem;}

#autosavePill{min-width:150px; text-align:center}
h1{margin:.2rem 0 .2rem 0; font-size:1.4rem}
p{margin:.25rem 0 .25rem 0; line-height:1.55}

.grid2{display:grid; grid-template-columns: 1fr 1fr; gap:1rem}
.grid3{display:grid; grid-template-columns: 1fr 1fr 1fr; gap:1rem}
@media (max-width: 980px){
  .grid2{grid-template-columns:1fr}
  .grid3{grid-template-columns:1fr}
  .status{min-width:auto; text-align:right; display:flex; justify-content:flex-end; align-items:center; gap:10px}
  .brand{min-width:auto}
  .tab span{display:none}
  .tabs{justify-content:center}
  .tab{padding:.62rem .95rem; font-size:1rem}
}

/* "Farlige" handlinger (nulstil) skal være tydelige – ikke gemt væk */
.dangerZone{
  border-color: rgba(255,123,123,.45);
}

.card{
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem;
  box-shadow: var(--shadow);
}

/* Tydelig "farlig" zone til nulstilling */
.dangerZone{
  border-color: rgba(255,123,123,.45);
}
.dangerZone .cardTitle{
  color: var(--danger);
}
.cardTitle{font-weight:800; margin-bottom:.6rem}
.cardSubTitle{font-weight:800; margin:.2rem 0 .6rem 0; color: var(--muted)}
.divider{height:1px;background:rgba(42,47,58,.7); margin:1rem 0}

.field{margin:.65rem 0}
label{display:block; font-size:.9rem; color:var(--muted); margin-bottom:.35rem}

input[type="text"], input[type="number"], select, textarea{
  width:100%;
  padding:.6rem .7rem;
  background: rgba(0,0,0,.20);
  color: var(--text);
  border:1px solid var(--border);
  border-radius: 12px;
  outline:none;
}
textarea{resize:vertical; min-height: 90px}
input[readonly]{
  opacity: 1;
  background: rgba(255,255,255,.035);
  border-style: dashed;
  color: rgba(230,232,238,.85);
  cursor: default;
}
input[readonly]:focus{
  box-shadow: none;
  outline: none;
}

/* dropdown readability on dark */
select{
  background-color: rgba(0,0,0,.28);
}
select option{
  background: #0f1115;
  color: #e6e8ee;
}

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem;
  padding:.55rem .85rem;
  border-radius: 12px;
  border:1px solid rgba(139,211,255,.35);
  background: rgba(139,211,255,.12);
  color: var(--text);
  cursor:pointer;
  font-weight:800;
}
.btn:hover{filter:brightness(1.05)}
.btn.ghost{
  border:1px solid var(--border);
  background: rgba(255,255,255,.03);
  font-weight:700;
}
.btn.danger{
  border:1px solid rgba(255,90,90,.65);
  background: rgba(255,70,70,.18);
  color: var(--text);
}
.btn.danger:hover{filter: brightness(1.08)}

.callout{
  border:1px dashed rgba(139,211,255,.35);
  border-radius: var(--radius);
  padding: .8rem 1rem;
  background: rgba(139,211,255,.06);
  margin-bottom: 1rem;
}

/* K-gruppe navigation placeret i callout-boksen over elevkortene */
#kNavHost{ margin-bottom:.4rem; }
#kNavHost .editNavRow{ margin:0; }
.list{display:grid; grid-template-columns: 1fr 1fr; gap:.65rem}
@media (max-width: 980px){ .list{grid-template-columns:1fr} }

.item{
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:.8rem 1rem;
  background: rgba(255,255,255,.03);
  cursor:pointer;
}
.item:hover{border-color: rgba(139,211,255,.35)}
.itemTitle{font-weight:800}
.itemMeta{color:var(--muted); font-size:.9rem; margin-top:.15rem}

.split{display:grid; grid-template-columns: 1fr 1fr; gap:1rem}
@media (max-width: 980px){ .split{grid-template-columns:1fr} }

.panel{min-width:0}
.fold{border:1px solid var(--border); border-radius: var(--radius); padding:.6rem .8rem; background: rgba(0,0,0,.12); margin-bottom:.8rem}
.fold summary{cursor:pointer; font-weight:800; padding:.25rem 0}
.preview{
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: rgba(0,0,0,.18);
  padding: 1rem 1.1rem;
  min-height: 420px;
  line-height: 1.45;
  white-space: pre-wrap;
}

.tableWrap{
  margin-top: .75rem;
  overflow:auto;
  border:1px solid var(--border);
  border-radius: var(--radius);
  max-height: 65vh;
}
table{width:100%; border-collapse: collapse; font-size:.95rem}
th,td{border-bottom:1px solid rgba(42,47,58,.8); padding:.55rem .6rem; vertical-align: top}


/* Tick buttons (marks) */
button.tickbox{
  width:22px; height:22px;
  border:1px solid rgba(255,255,255,.25);
  background:transparent;
  border-radius:6px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  padding:0;
}
button.tickbox .check{
  opacity:0;
  font-weight:900;
  line-height:1;
  font-size:16px;
}
/* vis ✓ både ved class "on" og ved aria-pressed="true" (robust mod partial re-render) */
button.tickbox.on .check,
button.tickbox[aria-pressed="true"] .check{ opacity:1; }
/* let baggrund ved on/pressed så det også kan ses uden ✓ (lav kontrast) */
button.tickbox.on,
button.tickbox[aria-pressed="true"]{ background: rgba(255,255,255,.10); }

td.cb button.tickbox{ margin:0 auto; }
/* Sticky header inside marks scroll area */
#marksTableWrap table thead th{
  position: sticky;
  top: 0;
  z-index: 5;
  background: rgba(15,17,21,.98);
}

/* Marks tables: checkbox columns */
td.cb, th.cb { text-align:center; width:1%; white-space:nowrap; }
td.cb input[type="checkbox"] { transform: translateY(1px); }
th{
  position:sticky; top:0;
  background: rgba(15,17,21,.98);
  z-index:2;
  text-align:left; color: var(--muted); font-weight:800
}
tr:hover td{background: rgba(255,255,255,.02)}
.pills{display:flex; gap:.35rem; flex-wrap:wrap}
.pillbtn{
  user-select:none;
  border:1px solid var(--border);
  border-radius:999px;
  padding:.25rem .55rem;
  cursor:pointer;
  background: rgba(255,255,255,.03);
  font-weight:800;
  font-size:.9rem;
}
.pillbtn.active{border-color: rgba(139,211,255,.5); box-shadow: 0 0 0 3px rgba(139,211,255,.10)}

.footer{padding:.9rem 1rem; text-align:center; border-top:1px solid rgba(255,255,255,.06); color: var(--muted);}


/* PRINT: kun preview */
@media print{
  body{background:#fff; color:#000}
  .no-print{display:none !important}

  /* robust: only show preview */
  body *{visibility:hidden}
  #preview, #preview *{visibility:visible}

  #preview{
    position:absolute; left:0; top:0;
    border:none;
    background:#fff;
    color:#000;
    padding:0;
    white-space: pre-wrap;
    min-height:auto;
    transform: scale(var(--printScale, 1));
    transform-origin: top left;
    width: calc(100% / var(--printScale, 1));
  }
  @page{size:A4; margin: 18mm 16mm}
}

/* Mark buttons (checkbox-style) */
.markbtn {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.04);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  user-select: none;
  line-height: 1;
  font-weight: 800;
  color: rgba(255,255,255,0.95);
}
.markbtn:hover { background: rgba(255,255,255,0.07); }
.markbtn .check { opacity: 0.0; transform: translateY(-0.5px); }
.markbtn.on {
  border-color: rgba(255, 255, 255, 0.65);
  background: rgba(255, 255, 255, 0.20);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.12) inset, 0 0 10px rgba(255, 255, 255, 0.12);
}
.markbtn.on .check {
  color: rgba(255, 255, 255, 0.98);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.35);
}

.markbtn.clear {
  background: rgba(255,255,255,0.02);
  opacity: 0.9;
}
.markbtn.clear .check { opacity: 1.0; }
.markbtn.clear:hover { opacity: 1.0; background: rgba(255,255,255,0.06); }

#marksTableWrap table{border-collapse:separate;border-spacing:0;}

/* Sticky header in marks tables */
#marksTableWrap table thead th {
  position: sticky;
  top: 0;
  z-index: 2;
  background: rgba(10, 12, 16, 0.92);
  backdrop-filter: blur(6px);
}


/* --- Completion badges in K-elev list --- */
.miniBadges{ display:inline-flex; gap:6px; margin-left:10px; vertical-align:middle; }
.miniBadge{ font-size:12px; line-height:1; padding:3px 6px; border-radius:999px; border:1px solid rgba(255,255,255,.25); opacity:.9; }
.miniBadge.ok{ background:rgba(46, 204, 113, .18); }
.miniBadge.no{ background:rgba(231, 76, 60, .15); opacity:.6; }


/* Section ratio (shown when folded) */
.secRatio{margin-left:8px;font-size:12px;opacity:.7;}
#view-edit details[open] summary .secRatio{display:none;}
#view-edit details:not([open]) summary .secRatio{display:inline;}

/* Mini badge buttons (only shown when filled) */
.miniBadgeBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:22px;
  height:18px;
  border-radius:999px;
  font-size:12px;
  margin-left:6px;
  border:1px solid rgba(0,0,0,.25);
  background:rgba(0,0,0,.04);
  cursor:pointer;
  user-select:none;
}
.miniBadgeBtn:hover{background:rgba(0,0,0,.08);}
.miniBadges{margin-left:8px;}


/* v11 UX: compact callout for K-elever summary (no big box) */
.callout.compact{
  padding: 6px 0;
  border: none;
  background: transparent;
}

/* K-elever card header row */
.cardTopRow{
  display:flex;
  align-items:baseline;
  justify-content:flex-start;
  gap:12px;
}
.cardFlags{
  white-space:nowrap;
  margin-left:auto;
}

/* Redigér nav: keep class a bit separated */
.navActiveMeta{
  margin-top:4px;
}


/* Elevens eget input: PDF preview */
#studentInputPreview{width:100%;height:520px;border:1px solid rgba(255,255,255,.12);border-radius:12px;background:rgba(0,0,0,.15)}


/* Settings subtabs */
.subtabs{
  display:flex;
  gap:.5rem;
  flex-wrap:wrap;
  margin: .75rem 0 1rem 0;
}
.subtab{
  border:1px solid var(--border);
  background: rgba(255,255,255,.03);
  color: var(--text);
  padding: .45rem .75rem;
  border-radius: 999px;
  cursor:pointer;
  font-weight:600;
}
.subtab.active{
  border-color: rgba(255,255,255,.25);
  background: rgba(255,255,255,.08);
}
.settingsSubtab{ display:none; }
.settingsSubtab.active{ display:block; }


.tabs.small .tab{padding:.35rem .65rem; font-size:.92rem;}


/* Help readability */
#settingsSubtab-help .card{max-width: 980px; margin: 0 auto;}
#settingsSubtab-help h2{font-size:1.35rem; margin:.2rem 0 .6rem 0}
.helpTip{margin-top:1rem; padding:.9rem 1rem; border-radius: var(--radius); border:1px dashed rgba(255,255,255,.18); background: rgba(255,255,255,.03)}

/* Help pane readability */
#settingsSubtab-help .card{max-width: 980px; margin: 0 auto; padding: 1.2rem 1.25rem;}
#settingsSubtab-help h2{font-size:1.35rem; margin-bottom:.35rem;}
#settingsSubtab-help .muted{line-height:1.55}

/* -------- Teacher picker (K-lærer) -------- */
.teacherPicker{
  position: relative;
  display: flex;
  gap: 8px;
  align-items: stretch;
}
.teacherPicker .clearBtn{
  right: 3.35rem; /* plads til ▾-knappen */
  top: 50%;
  transform: translateY(-50%);
}
.teacherPicker input{ padding-right: 4.9rem; }
.teacherPicker .tpBtn{
  min-width: 44px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.06);
  color: inherit;
  cursor: pointer;
}
.teacherPicker .tpBtn:hover{ background: rgba(255,255,255,.10); }
.teacherPicker .tpMenu{
  position: absolute;
  left: 0;
  right: 0;
  top: calc(100% + 6px);
  z-index: 50;
  max-height: 280px;
  overflow: auto;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(15,18,24,.96);
  box-shadow: 0 14px 40px rgba(0,0,0,.55);
  padding: 6px;
}
.tpItem{
  display: flex;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 10px;
  border-radius: 12px;
  cursor: pointer;
}
.tpItem:hover, .tpItem.active{
  background: rgba(255,255,255,.08);
}
.tpItem .tpLeft{
  font-weight: 650;
}
.tpItem .tpRight{
  opacity: .82;
  font-size: 12px;
  white-space: nowrap;
}
@media (max-width: 520px){
  .tpItem{ flex-direction: column; align-items: flex-start; }
  .tpItem .tpRight{ white-space: normal; }
}


.warnBox{border:1px solid rgba(255,165,0,.45); background:rgba(255,165,0,.08); padding:.6rem .75rem; border-radius:12px; font-size:.9rem; color:var(--text);} 
.warnBox b{color:var(--text);} 

/* Import-status (faglærer-vurderinger) */
.importStatsGrid{display:block}
.importStatRow{display:flex; align-items:center; gap:.6rem; padding:.35rem 0}
.importStatLabel{min-width:110px; font-weight:700; display:flex; align-items:center; gap:.5rem}
.importStatValue{min-width:110px; font-variant-numeric: tabular-nums; color:var(--text); display:flex; align-items:baseline; gap:.45rem}
.importStatMiss{font-size:.85em; opacity:.75}
.importDot{width:10px; height:10px; border-radius:999px; background:rgba(255,255,255,.18); box-shadow:0 0 0 2px rgba(0,0,0,.25) inset}
.importDot.ok{background:rgba(120,255,170,.85)}
.importDot.warn{background:rgba(255,210,120,.9)}
.importDot.bad{background:rgba(255,120,120,.9)}
.importStatMissing{margin:0 0 .35rem 0; padding-left:110px}
@media (max-width: 900px){
  .importStatMissing{padding-left:0}
}


.titleCenter{justify-self:center;}
.titleRight{justify-self:end; display:flex; align-items:center; gap:.5rem;}

@media (max-width: 720px){
  .viewTitleRow{grid-template-columns:1fr; row-gap:.5rem;}
  .titleCenter{justify-self:start;}
  .titleRight{justify-self:start;}
}


.between{justify-content:space-between; width:100%;}


.inputWithClear{ position:relative; display:flex; align-items:center; }
.inputWithClear input{ width:100%; padding-right:2.0rem; }
.clearBtn{ position:absolute; right:.35rem; width:1.5rem; height:1.5rem; border-radius:999px; border:1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.06); color: rgba(255,255,255,.75); cursor:pointer; line-height:1; }
.clearBtn:hover{ background: rgba(255,255,255,.10); }

.row.between{ justify-content: space-between; }

/* --- Eksportfanen: knap-layout (v1.0 UX) --- */
.exportActions{
  display:flex;
  flex-direction:row;
  gap:.55rem;
  align-items:center;
  justify-content:flex-end;
}

.btn.exportActionBtn{
  min-width: 190px;
}

.backupRow{
  display:flex;
  gap:.8rem;
  align-items:center;
  flex-wrap:wrap;
}

.btn.backupBig{
  padding:.65rem .9rem;
  font-weight:600;
}

.exportIntro{
  text-align:center;
  margin:.4rem 0 .75rem 0;
}

.marksToolbar{
  display:flex;
  gap:.6rem;
  align-items:center;
  justify-content:center;
  margin:.2rem 0 .7rem 0;
}

.exportIntro{
  text-align:center;
  margin:.35rem 0 .6rem 0;
}

/* Dock is only a storage place; the picker is mounted into table header */
.marksSearchDock{ display:none; }

/* Search-in-header layout */
th.nameTh{ min-width: 220px; }
.thName{ display:flex; flex-direction:row; gap:.45rem; align-items:center; }
.thControl{ display:flex; gap:.4rem; align-items:center; width:100%; }
.thControl input{
  width: 100%;
  min-width: 200px;
  padding: .35rem .55rem;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.22);
  color: rgba(255,255,255,.88);
}
.thControl input:focus{ outline: none; border-color: rgba(120,190,255,.55); }
.thControl .clearBtn{ flex: 0 0 auto; }

@media (max-width: 720px){
  .exportActions{ flex-direction:column; align-items:stretch; }
  .btn.exportActionBtn{ min-width: 0; width: 100%; }
  .exportTopRow{ align-items:flex-start; }
  th.nameTh{ min-width: 200px; }
  .thControl input{ min-width: 160px; }
}


/* --- Marks table button-style toggles (old format) --- */
td.cb { width: 56px; text-align: center; }
.markBtn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 26px;
  border: 1px solid rgba(255,255,255,.25);
  border-radius: 8px;
  background: rgba(255,255,255,.03);
  color: rgba(255,255,255,.65);
  cursor: pointer;
  user-select: none;
}
.markBtn:hover { background: rgba(255,255,255,.06); }
.markBtn[aria-pressed="true"]{
  border-color: rgba(120,190,255,.6);
  background: rgba(120,190,255,.18);
  color: #e9f5ff;
}
.markBtn .check { font-size: 16px; line-height: 1; opacity: .0; transform: translateY(-.5px); }
.markBtn[aria-pressed="true"] .check { opacity: 1; }
.markBtn .empty { font-size: 14px; line-height: 1; opacity: .25; }
.markBtn[aria-pressed="true"] .empty { opacity: 0; }

/* --- Tick buttons: higher contrast in dark theme --- */
.tickbox{
  width: 22px;
  height: 22px;
  border-radius: 6px;
  border: 1px solid rgba(255,255,255,0.25);
  background: rgba(0,0,0,0.35);
}
.tickbox .check{
  font-size: 16px;
  line-height: 1;
  color: rgba(255,255,255,0.95);
  text-shadow: 0 0 6px rgba(0,0,0,0.8);
}
.tickbox.on,
.tickbox[aria-pressed="true"]{
  border-color: rgba(140,200,255,0.8);
  background: rgba(40,120,200,0.35);
  box-shadow: 0 0 0 1px rgba(140,200,255,0.35), 0 0 10px rgba(60,140,220,0.25);
}
.tickbox.on .check,
.tickbox[aria-pressed="true"] .check{
  color: #fff;
}

/* --- Patch: make single-student print button compact (do not stretch full row) --- */
#btnPrint {
  width: auto;
  max-width: 220px;
  white-space: nowrap;
}

button.success{background:#2e7d32;border-color:#2e7d32;color:#fff}


/* Imported template visual state */
.btn-imported {
  background: #1f7a3f !important;
  border-color: #1f7a3f !important;
  color: #fff !important;
}


/* === HIDE MATCH INFO (safe, cosmetic only) ===
   Skjuler kun debug/status-teksten.
   Bjælke, knapper og tællere påvirkes IKKE.
*/
.match-info {
  display: none;
}


/* Export button styled like tabs */
.tabs .tab.exportTab{ font-weight:600; }

#marksTableWrap thead th{ padding-top:.45rem; padding-bottom:.45rem; }

#marksTableWrap th.sortTh{ padding:.35rem .45rem; }
#marksTableWrap th.sortTh .sortBtn{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.4rem;
  padding:.35rem .55rem;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  color: inherit;
  cursor:pointer;
  font-weight:600;
}
#marksTableWrap th.sortTh .sortBtn:hover{ background: rgba(255,255,255,.06); }
#marksTableWrap th.sortTh .sortIcon{
  min-width: 14px;
  text-align:right;
  opacity:.75;
  font-size: 12px;
}

.tabs.centered{ justify-content:center; flex:0 0 auto; width:100%; flex-wrap:wrap; }

@media (max-width: 560px){
  .tab{ padding:.78rem 1.05rem; font-size:1.05rem; }
  .tabs{ flex-wrap: wrap; }
}


/* Clickable view title (toggle K-elever / Alle K-grupper) */
.h1btn{background:transparent;border:0;padding:0;margin:0;cursor:pointer;color:inherit;}
.h1btn h1{display:inline-block;}
.h1btn:hover h1{text-decoration:underline;text-underline-offset:6px;}
.h1btn:focus-visible{outline:2px solid rgba(140,200,255,.45);outline-offset:6px;border-radius:12px;}


/* Teacher shortcut button (header right) */
.teacherRightWrap{justify-self:stretch;}
.teacherRightHost{width:100%; display:flex;}
.teacherShortcutBtn{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:8px;
  padding:6px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.12);
  background:transparent;
  color:inherit;
  cursor:pointer;
}
.teacherShortcutBtn:hover{background:rgba(255,255,255,0.06);}
.teacherShortcutBtn:active{transform:translateY(1px);}
.teacherShortcutName{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:360px;}


/* ---------- Multi-tab lock banner ---------- */
.udt-lock-banner{
  display:none;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px 14px;
  margin:0;
  border-bottom:1px solid var(--border);
  background: rgba(255, 196, 0, 0.10);
}
.udt-lock-text{
  display:flex;
  flex-direction:column;
  gap:2px;
}
.udt-lock-sub{
  color: var(--muted);
  font-size: 13px;
}
body.udt-readonly .udt-lock-banner{
  display:flex;
}
body.udt-readonly main.app{
  filter: saturate(0.85);
}

/* Export help foldout: compact, mobile-friendly */
.exportHelpFold{margin:.35rem 0 .55rem 0; padding:.45rem .6rem}
.exportHelpFold summary{font-weight:700}

/* Help: small ASCII flow diagram */
.asciiFlow{white-space:pre; overflow:auto; padding:.5rem .6rem; border:1px dashed var(--border); border-radius: var(--radius); background: rgba(0,0,0,.10); margin:.35rem 0 0 0}


/* Custom hover tooltip used in Eksport marks tables */
.hoverTip{
  position: fixed;
  z-index: 9999;
  display: none;
  max-width: 420px;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(10,12,16,.95);
  color: rgba(255,255,255,.92);
  box-shadow: 0 14px 40px rgba(0,0,0,.55);
  font-size: 12.5px;
  line-height: 1.35;
  white-space: pre-wrap;
  pointer-events: none;
}
